@page
@model SRAUMOAR.Pages.generales.materias.IndexModel

@{
    ViewData["Title"] = "Materias";
}

<div class="gm-shell">
    <div class="gm-hero">
        <div>
            <p class="gm-eyebrow">Tablas Generales</p>
            <h1 class="gm-title">Materias por Carrera</h1>
            <p class="gm-subtitle">Seleccione una carrera para administrar sus pensums y materias.</p>
        </div>
        <div class="gm-hero-metrics">
            <div class="gm-metric">
                <span class="gm-metric-value">@Model.Carrera.Count</span>
                <span class="gm-metric-label">Carreras</span>
            </div>
        </div>
    </div>

    <div class="gm-panel">
        @if (Model.Carrera.Any())
        {
            <div class="table-responsive">
                <table class="table align-middle mb-0 gm-table">
                    <thead>
                        <tr>
                            <th>@Html.DisplayNameFor(model => model.Carrera[0].NombreCarrera)</th>
                            <th>@Html.DisplayNameFor(model => model.Carrera[0].CodigoCarrera)</th>
                            <th class="text-center">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Carrera)
                        {
                            <tr>
                                <td>
                                    <div class="fw-semibold">@item.NombreCarrera</div>
                                    <small class="text-muted">Facultad: @item.Facultad?.NombreFacultad</small>
                                </td>
                                <td>
                                    <span class="gm-chip">@item.CodigoCarrera</span>
                                </td>
                                <td class="text-center">
                                    <a class="btn btn-success btn-sm" asp-page="/generales/pensum/Index" asp-route-id="@item.CarreraId">
                                        <i class="bi bi-diagram-3 me-1"></i> Ver pensums
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="gm-empty">
                <i class="bi bi-inbox"></i>
                <p>No hay carreras registradas.</p>
            </div>
        }
    </div>
</div>